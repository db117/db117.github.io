import{_ as l,c as s,o as a,a as e}from"./app.55d73d08.js";const h=JSON.parse('{"title":"在线yum安装","description":"","frontmatter":{"title":"在线yum安装"},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"启动","slug":"启动","link":"#启动","children":[]},{"level":2,"title":"密码访问","slug":"密码访问","link":"#密码访问","children":[]},{"level":2,"title":"配置","slug":"配置","link":"#配置","children":[]}],"relativePath":"database/mysql/在线yum安装.md","lastUpdated":1677490656000}'),n={name:"database/mysql/在线yum安装.md"},i=e(`<h1 id="在线yum安装" tabindex="-1">在线yum安装 <a class="header-anchor" href="#在线yum安装" aria-hidden="true">#</a></h1><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h2><ul><li><p>下载mysql源安装包</p><ul><li>wget <a href="http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm" target="_blank" rel="noreferrer">http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm</a></li><li>yum localinstall mysql57-community-release-el7-8.noarch.rpm</li></ul></li><li><p>检查mysql源是否安装成功</p><ul><li>检查mysql源是否安装成功</li><li>可以修改vim /etc/yum.repos.d/mysql-community.repo源，改变默认安装的mysql版本。比如要安装5.6版本， 将5.7源的enabled=1改成enabled=0。然后再将5.6源的enabled=0改成enabled=1即可</li></ul></li><li><p>安装MySQL</p><ul><li>yum install mysql-community-server</li></ul></li></ul><h2 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-hidden="true">#</a></h2><ul><li><p>启动MySQL服务</p><ul><li>systemctl start mysqld</li></ul></li><li><p>开机启动</p><ul><li>systemctl enable mysqld</li><li>systemctl daemon-reload</li></ul></li></ul><h2 id="密码访问" tabindex="-1">密码访问 <a class="header-anchor" href="#密码访问" aria-hidden="true">#</a></h2><ul><li><p>修改密码策略</p><ul><li>在vim /etc/my.cnf文件添加validate_password_policy配置，指定密码策略</li><li>选择0（LOW），1（MEDIUM），2（STRONG）其中一种，选择2需要提供密码字典文件 <ul><li>validate_password_policy=0</li></ul></li><li>如果不需要密码策略，添加my.cnf文件中添加如下配置禁用即可： <ul><li>validate_password = off</li></ul></li></ul></li><li><p>修改root本地登录密码</p><ul><li>mysql安装完成之后，在/var/log/mysqld.log文件中给root生成了一个默认密码。 通过下面的方式找到root默认密码，然后登录mysql进行修改 <ul><li>grep &#39;temporary password&#39; /var/log/mysqld.log</li><li>mysql -uroot -p</li><li>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;</li><li>或者set password for &#39;root&#39;@&#39;localhost&#39;=password(&#39;password&#39;);</li></ul></li></ul></li><li><p>添加远程登录用户</p><ul><li>GRANT ALL PRIVILEGES ON <em>.</em> TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;root&#39; WITH GRANT OPTION;</li></ul></li></ul><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">#不需要密码策略</span></span>
<span class="line"><span style="color:#A6ACCD;">validate_password = off  </span></span>
<span class="line"><span style="color:#A6ACCD;">#默认编码       </span></span>
<span class="line"><span style="color:#A6ACCD;">character_set_server=utf8      </span></span>
<span class="line"><span style="color:#A6ACCD;">#连接编码 </span></span>
<span class="line"><span style="color:#A6ACCD;">init_connect=&#39;SET NAMES utf8&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">#忽略大小写(Linux)   </span></span>
<span class="line"><span style="color:#A6ACCD;">lower_case_table_names=1 </span></span>
<span class="line"><span style="color:#A6ACCD;">#最大连接量       </span></span>
<span class="line"><span style="color:#A6ACCD;">max_allowed_packet=50m  </span></span>
<span class="line"><span style="color:#A6ACCD;">#分布式下id        </span></span>
<span class="line"><span style="color:#A6ACCD;">server-id=1     </span></span>
<span class="line"><span style="color:#A6ACCD;">#开启binglog                </span></span>
<span class="line"><span style="color:#A6ACCD;">log-bin=mysql-bin   </span></span>
<span class="line"><span style="color:#A6ACCD;">#binglog格式            </span></span>
<span class="line"><span style="color:#A6ACCD;">binlog_format=MIXED            </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,9),t=[i];function o(p,r,c,d,m,y){return a(),s("div",null,t)}const _=l(n,[["render",o]]);export{h as __pageData,_ as default};
