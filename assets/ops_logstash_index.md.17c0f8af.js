import{_ as e,c as s,o as a,a as t}from"./app.a840672a.js";const C=JSON.parse('{"title":"","description":"","frontmatter":{"Title":"logstash相关"},"headers":[{"level":3,"title":"删除字段","slug":"删除字段","link":"#删除字段","children":[]},{"level":3,"title":"判断","slug":"判断","link":"#判断","children":[]}],"relativePath":"ops/logstash/index.md","lastUpdated":1678341619000}'),n={name:"ops/logstash/index.md"},o=t(`<h3 id="删除字段" tabindex="-1">删除字段 <a class="header-anchor" href="#删除字段" aria-hidden="true">#</a></h3><blockquote><p>在任意插件中添加</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"># 删除字段</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [&quot;host&quot;,&quot;agent&quot;,&quot;ecs&quot;,&quot;tags&quot;,&quot;fields&quot;,&quot;@version&quot;,&quot;stream&quot;,&quot;log&quot;,&quot;input&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][namespace_uid]&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][node][labels]&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][node][uid]&quot; ]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][pod][uid]&quot; ]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="判断" tabindex="-1">判断 <a class="header-anchor" href="#判断" aria-hidden="true">#</a></h3><blockquote><p>嵌套判断,取值使用[1][2]</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">		if [kubernetes][labels][profile] {</span></span>
<span class="line"><span style="color:#A6ACCD;">        mutate { add_field =&gt; { &quot;[@metadata][profile]&quot; =&gt; &quot;%{[kubernetes][labels][profile]}&quot; } }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }else {</span></span>
<span class="line"><span style="color:#A6ACCD;">        mutate { add_field =&gt; { &quot;[@metadata][profile]&quot; =&gt; &quot;unknownProfile&quot; } }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><a href="https://www.elastic.co/guide/en/logstash/6.7/event-dependent-configuration.html#conditionals" target="_blank" rel="noreferrer">官方文档</a></p>`,7),l=[o];function p(i,c,r,u,d,q){return a(),s("div",null,l)}const h=e(n,[["render",p]]);export{C as __pageData,h as default};
