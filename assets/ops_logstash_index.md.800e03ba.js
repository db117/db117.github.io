import{_ as e,o as s,c as a,S as t}from"./chunks/framework.1603d207.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{"Title":"logstash相关"},"headers":[],"relativePath":"ops/logstash/index.md","filePath":"ops/logstash/index.md","lastUpdated":1691998596000}'),o={name:"ops/logstash/index.md"},n=t(`<h3 id="删除字段" tabindex="-1">删除字段 <a class="header-anchor" href="#删除字段" aria-label="Permalink to &quot;删除字段&quot;">​</a></h3><blockquote><p>在任意插件中添加</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"># 删除字段</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [&quot;host&quot;,&quot;agent&quot;,&quot;ecs&quot;,&quot;tags&quot;,&quot;fields&quot;,&quot;@version&quot;,&quot;stream&quot;,&quot;log&quot;,&quot;input&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][namespace_uid]&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][node][labels]&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][node][uid]&quot; ]</span></span>
<span class="line"><span style="color:#A6ACCD;">        remove_field =&gt; [ &quot;[kubernetes][pod][uid]&quot; ]</span></span></code></pre></div><h3 id="判断" tabindex="-1">判断 <a class="header-anchor" href="#判断" aria-label="Permalink to &quot;判断&quot;">​</a></h3><blockquote><p>嵌套判断,取值使用[1][2]</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">if [kubernetes][labels][profile] {</span></span>
<span class="line"><span style="color:#A6ACCD;">        mutate { add_field =&gt; { &quot;[@metadata][profile]&quot; =&gt; &quot;%{[kubernetes][labels][profile]}&quot; } }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }else {</span></span>
<span class="line"><span style="color:#A6ACCD;">        mutate { add_field =&gt; { &quot;[@metadata][profile]&quot; =&gt; &quot;unknownProfile&quot; } }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span></code></pre></div><p><a href="https://www.elastic.co/guide/en/logstash/6.7/event-dependent-configuration.html#conditionals" target="_blank" rel="noreferrer">官方文档</a></p>`,7),l=[n];function p(i,r,c,u,d,q){return s(),a("div",null,l)}const g=e(o,[["render",p]]);export{h as __pageData,g as default};
