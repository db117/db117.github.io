(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{296:function(s,l,a){"use strict";a.r(l);var t=a(10),e=Object(t.a)({},(function(){var s=this,l=s._self._c;return l("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[l("h1",{attrs:{id:"在线yum安装"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#在线yum安装"}},[s._v("#")]),s._v(" 在线yum安装")]),s._v(" "),l("h2",{attrs:{id:"安装"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),l("ul",[l("li",[l("p",[s._v("下载mysql源安装包")]),s._v(" "),l("ul",[l("li",[s._v("wget http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm")]),s._v(" "),l("li",[s._v("yum localinstall mysql57-community-release-el7-8.noarch.rpm")])])]),s._v(" "),l("li",[l("p",[s._v("检查mysql源是否安装成功")]),s._v(" "),l("ul",[l("li",[s._v("检查mysql源是否安装成功")]),s._v(" "),l("li",[s._v("可以修改vim /etc/yum.repos.d/mysql-community.repo源，改变默认安装的mysql版本。比如要安装5.6版本，\n将5.7源的enabled=1改成enabled=0。然后再将5.6源的enabled=0改成enabled=1即可")])])]),s._v(" "),l("li",[l("p",[s._v("安装MySQL")]),s._v(" "),l("ul",[l("li",[s._v("yum install mysql-community-server")])])])]),s._v(" "),l("h2",{attrs:{id:"启动"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),l("ul",[l("li",[l("p",[s._v("启动MySQL服务")]),s._v(" "),l("ul",[l("li",[s._v("systemctl start mysqld")])])]),s._v(" "),l("li",[l("p",[s._v("开机启动")]),s._v(" "),l("ul",[l("li",[s._v("systemctl enable mysqld")]),s._v(" "),l("li",[s._v("systemctl daemon-reload")])])])]),s._v(" "),l("h2",{attrs:{id:"密码访问"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#密码访问"}},[s._v("#")]),s._v(" 密码访问")]),s._v(" "),l("ul",[l("li",[l("p",[s._v("修改密码策略")]),s._v(" "),l("ul",[l("li",[s._v("在vim /etc/my.cnf文件添加validate_password_policy配置，指定密码策略")]),s._v(" "),l("li",[s._v("选择0（LOW），1（MEDIUM），2（STRONG）其中一种，选择2需要提供密码字典文件\n"),l("ul",[l("li",[s._v("validate_password_policy=0")])])]),s._v(" "),l("li",[s._v("如果不需要密码策略，添加my.cnf文件中添加如下配置禁用即可：\n"),l("ul",[l("li",[s._v("validate_password = off")])])])])]),s._v(" "),l("li",[l("p",[s._v("修改root本地登录密码")]),s._v(" "),l("ul",[l("li",[s._v("mysql安装完成之后，在/var/log/mysqld.log文件中给root生成了一个默认密码。\n通过下面的方式找到root默认密码，然后登录mysql进行修改\n"),l("ul",[l("li",[s._v("grep 'temporary password' /var/log/mysqld.log")]),s._v(" "),l("li",[s._v("mysql -uroot -p")]),s._v(" "),l("li",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'password';")]),s._v(" "),l("li",[s._v("或者set password for 'root'@'localhost'=password('password');")])])])])]),s._v(" "),l("li",[l("p",[s._v("添加远程登录用户")]),s._v(" "),l("ul",[l("li",[s._v("GRANT ALL PRIVILEGES ON "),l("em",[s._v(".")]),s._v(" TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION;")])])])]),s._v(" "),l("h2",{attrs:{id:"配置"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),l("div",{staticClass:"language- line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("#不需要密码策略\nvalidate_password = off  \n#默认编码       \ncharacter_set_server=utf8      \n#连接编码 \ninit_connect='SET NAMES utf8'\n#忽略大小写(Linux)   \nlower_case_table_names=1 \n#最大连接量       \nmax_allowed_packet=50m  \n#分布式下id        \nserver-id=1     \n#开启binglog                \nlog-bin=mysql-bin   \n#binglog格式            \nbinlog_format=MIXED            \n")])]),s._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[s._v("1")]),l("br"),l("span",{staticClass:"line-number"},[s._v("2")]),l("br"),l("span",{staticClass:"line-number"},[s._v("3")]),l("br"),l("span",{staticClass:"line-number"},[s._v("4")]),l("br"),l("span",{staticClass:"line-number"},[s._v("5")]),l("br"),l("span",{staticClass:"line-number"},[s._v("6")]),l("br"),l("span",{staticClass:"line-number"},[s._v("7")]),l("br"),l("span",{staticClass:"line-number"},[s._v("8")]),l("br"),l("span",{staticClass:"line-number"},[s._v("9")]),l("br"),l("span",{staticClass:"line-number"},[s._v("10")]),l("br"),l("span",{staticClass:"line-number"},[s._v("11")]),l("br"),l("span",{staticClass:"line-number"},[s._v("12")]),l("br"),l("span",{staticClass:"line-number"},[s._v("13")]),l("br"),l("span",{staticClass:"line-number"},[s._v("14")]),l("br"),l("span",{staticClass:"line-number"},[s._v("15")]),l("br"),l("span",{staticClass:"line-number"},[s._v("16")]),l("br")])])])}),[],!1,null,null,null);l.default=e.exports}}]);