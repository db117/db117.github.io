(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{329:function(e,o,r){"use strict";r.r(o);var t=r(10),s=Object(t.a)({},(function(){var e=this,o=e._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h3",{attrs:{id:"refreshscope-实现"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#refreshscope-实现"}},[e._v("#")]),e._v(" RefreshScope 实现")]),e._v(" "),o("p",[e._v("流程图")]),e._v(" "),o("iframe",{staticStyle:{display:"block",width:"525px",height:"245px"},attrs:{id:"embed_dom",name:"embed_dom",frameborder:"0",src:"https://www.processon.com/embed/6348db5b7d9c080c425579d1"}}),e._v(" "),o("p",[e._v("注意事项")]),e._v(" "),o("ul",[o("li",[e._v("不要太对类都加上"),o("code",[e._v("@RefreshScope")]),e._v("，在刷新时，以及访问时是用的同一把锁。")]),e._v(" "),o("li",[e._v("有"),o("code",[e._v("@RefreshScope")]),e._v("时，spring Aop 回不生效的。\n"),o("ul",[o("li",[e._v("所有对象都会用"),o("code",[e._v("LockedScopedProxyFactoryBean")]),e._v("对象包装着")]),e._v(" "),o("li",[e._v("继承与"),o("code",[e._v("ScopedProxyFactoryBean")]),e._v("，这个对象回把代理的对象添加上"),o("code",[e._v("AopInfrastructureBean")])]),e._v(" "),o("li",[e._v("有"),o("code",[e._v("AopInfrastructureBean")]),e._v(" 接口就不会被代理")])])])])])}),[],!1,null,null,null);o.default=s.exports}}]);