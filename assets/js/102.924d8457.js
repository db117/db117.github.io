(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{467:function(s,n,a){"use strict";a.r(n);var e=a(27),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"基础操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础操作"}},[s._v("#")]),s._v(" 基础操作")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("Prometheus的查询表达式可以分为四种数据类型：")]),s._v(" "),a("strong",[s._v("instant vector")]),s._v(" 瞬时向量 - 它是指在同一时刻，抓取的所有度量指标数据。这些度量指标数据的key都是相同的，也即相同的时间戳；\n"),a("strong",[s._v("range vector")]),s._v(" 范围向量 - 它是指在任何一个时间范围内，抓取的所有度量指标数据；\n"),a("strong",[s._v("scalar")]),s._v(" 标量 - 一个简单的浮点值，标量浮点值可以直接写成形式；\n"),a("strong",[s._v("string")]),s._v(" 字符串 - 字符串可以用单引号、双引号或者反引号表示；")])]),s._v(" "),a("h3",{attrs:{id:"浮点文本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浮点文本"}},[s._v("#")]),s._v(" 浮点文本")]),s._v(" "),a("blockquote",[a("p",[s._v("标量浮点值可以以文字整数或浮点数的格式写入")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[-+]?(\n      [0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?\n    | 0[xX][0-9a-fA-F]+\n    | [nN][aA][nN]\n    | [iI][nN][fF]\n)\n\n23\n-2.43\n3.4e-9\n0x8f\n-Inf\nNaN\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"即时矢量选择器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#即时矢量选择器"}},[s._v("#")]),s._v(" 即时矢量选择器")]),s._v(" "),a("blockquote",[a("p",[s._v("即时向量选择器允许在给定的时间戳(即时)选择一组时间序列和每个时间戳的单个样本值: 在最简单的形式中，只指定一个指标名称。这将生成一个即时向量，其中包含具有此度量名称的所有时间序列的元素。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('kube_pod_info{job="prometheus"}\n# 选择标签 job="prometheus" name="kube_pod_info" 的数据\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("标签匹配符：")]),s._v(" "),a("ul",[a("li",[s._v("=: 精确地匹配标签给定的值")]),s._v(" "),a("li",[s._v("!=: 不等于给定的标签值")]),s._v(" "),a("li",[s._v("=~: 选择匹配正则表达式的标签(或子标签)")]),s._v(" "),a("li",[s._v("!~: 选择不匹配正则表达式的标签(或子标签)")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# 选择了度量指标名称以jvm_开头的时间序列数据\n{__name__ =~"jvm_.*"} \n\n# 选择给定环境的数据\njvm_classes_loaded{environment=~"staging|testing|development"}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);