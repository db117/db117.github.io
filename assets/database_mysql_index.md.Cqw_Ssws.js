import{_ as a,c as e,o as s,a5 as n}from"./chunks/framework.B-Ov6ZuM.js";const b=JSON.parse('{"title":"mysql","description":"","frontmatter":{"title":"mysql"},"headers":[],"relativePath":"database/mysql/index.md","filePath":"database/mysql/index.md","lastUpdated":1722243070000}'),l={name:"database/mysql/index.md"},o=n(`<h2 id="mysql" tabindex="-1">mysql <a class="header-anchor" href="#mysql" aria-label="Permalink to &quot;mysql&quot;">​</a></h2><h4 id="mysql-8-0-public-key-retrieval-is-not-allowed" tabindex="-1">MySQL 8.0 Public Key Retrieval is not allowed <a class="header-anchor" href="#mysql-8-0-public-key-retrieval-is-not-allowed" aria-label="Permalink to &quot;MySQL 8.0 Public Key Retrieval is not allowed&quot;">​</a></h4><blockquote><p>最简单的解决方法是在连接后面添加 <code>allowPublicKeyRetrieval=true</code></p></blockquote><h4 id="communications-link-failure、no-appropriate-protocol-mysql连接失败解决方法" tabindex="-1">Communications link failure、No appropriate protocol Mysql连接失败解决方法 <a class="header-anchor" href="#communications-link-failure、no-appropriate-protocol-mysql连接失败解决方法" aria-label="Permalink to &quot;Communications link failure、No appropriate protocol Mysql连接失败解决方法&quot;">​</a></h4><blockquote><p>基本上是因为http ssl问题</p></blockquote><ul><li>url 数据源后面添加 <code>useSSL=false</code>关闭ssl</li><li>升级jdk版本</li></ul><h4 id="order-by-主键" tabindex="-1">order by 主键 <a class="header-anchor" href="#order-by-主键" aria-label="Permalink to &quot;order by 主键&quot;">​</a></h4><blockquote><p>当 order by 只有主键时，可以在 select 中出现所有字段。</p><p><a href="https://dev.mysql.com/doc/refman/5.7/en/group-by-handling.html" target="_blank" rel="noreferrer">MySQL :: MySQL 5.7 Reference Manual :: 12.20.3 MySQL Handling of GROUP BY</a></p></blockquote><h5 id="docker-安装" tabindex="-1">docker 安装 <a class="header-anchor" href="#docker-安装" aria-label="Permalink to &quot;docker 安装&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker run --name mysql -e MYSQL_ROOT_PASSWORD=your_password -p 3306:3306 -d mysql</span></span></code></pre></div><h3 id="死锁" tabindex="-1">死锁 <a class="header-anchor" href="#死锁" aria-label="Permalink to &quot;死锁&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 查看正在进行中的事务</span></span>
<span class="line"><span>SELECT * FROM information_schema.INNODB_TRX</span></span>
<span class="line"><span># 查看正在锁的事务</span></span>
<span class="line"><span>SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS;</span></span>
<span class="line"><span># 查看等待锁的事务</span></span>
<span class="line"><span>SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS;</span></span>
<span class="line"><span># 查询是否锁表</span></span>
<span class="line"><span>SHOW OPEN TABLES where In_use &gt; 0;</span></span>
<span class="line"><span>在发生死锁时，这几种方式都可以查询到和当前死锁相关的信息。</span></span>
<span class="line"><span># 查看最近死锁的日志</span></span>
<span class="line"><span>show engine innodb status</span></span></code></pre></div>`,12),t=[o];function i(r,p,c,d,h,u){return s(),e("div",null,t)}const y=a(l,[["render",i]]);export{b as __pageData,y as default};
